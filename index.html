<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Lettered App - The Digital Yard</title>
        <meta name="description" content="Part digital yard, part legacy archive, part private network." />
        <link rel="icon" href="images/letteredlogo32x32.png" sizes="32x32" />

       <style>

        /* Container and Layout */
        .container{max-width:1200px;margin:0 auto;padding:16px}
        @media (max-width:768px){.container{padding:20px}}
        @media (max-width:480px){.container{padding:16px}}
        @media (max-width:375px){.container{padding:12px}}
        @media (max-width:320px){.container{padding:10px}}
        
        /* Header */
        header{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;padding:18px 0}
        @media (max-width:768px){header{padding:12px 0}}
        @media (max-width:480px){header{padding:8px 0;gap:12px}}
        @media (max-width:375px){header{padding:6px 0;gap:8px}}
        
        .brand{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
        @media (max-width:480px){.brand{width:100%;justify-content:flex-start;gap:8px}}
        @media (max-width:375px){.brand{gap:6px}}
        
        .logo-img{max-width:48px;height:auto;border-radius:8px}
        @media (max-width:480px){.logo-img{max-width:40px}}
        @media (max-width:375px){.logo-img{max-width:32px}}
        @media (max-width:320px){.logo-img{max-width:28px}}
        
        /* nav{display:flex;
            gap:12px;
            flex-wrap:wrap;
            align-items:center
        } */

        nav {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0.5rem;
            flex-wrap: wrap;
        }

        nav button {
            padding: 0.6rem 1.2rem;
            border: 2px solid rgb(151, 0, 0);
            background: transparent;
            color: rgb(151, 0, 0);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 600;
            min-width: 80px;
        }

        nav button:hover {
            background: rgb(151, 0, 0);
            color: white;
        }
        
        @media (max-width: 480px) {
            nav {
                padding: 0.8rem 0.3rem;
                gap: 0.6rem;
            }
            
            nav button {
                padding: 0.5rem 0.8rem;
                font-size: 12px;
                min-width: 70px;
            }
        }
        
        @media (max-width: 375px) {
            nav button {
                padding: 0.4rem 0.6rem;
                font-size: 11px;
                min-width: 60px;
            }
        }
        
        @media (max-width: 320px) {
            nav {
                gap: 0.5rem;
            }
            
            nav button {
                padding: 0.4rem 0.5rem;
                font-size: 10px;
                min-width: 55px;
            }
        }

        /* Desktop navigation */
        .desktop-nav {
        display: flex;
        gap: 12px;
        align-items: center;
        }
        
        /* Mobile navigation */
        .mobile-nav {
        display: none;
        position: relative;
        }
        
        @media (max-width: 768px) {
        .desktop-nav {
            display: none;
        }
        
        .mobile-nav {
            display: block;
        }
        }

        /* Hide/Show Elements */
        @media (max-width:768px){
        .hide-mobile{display:none}
        .show-mobile{display:block}
        
        /* Mobile navigation */
        .mobile-nav {
            position: relative;
        }
        
        .mobile-menu-dropdown {
            display: none;
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            width: 200px;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            box-shadow: 0 8px 24px var(--shadow);
            padding: 16px;
            flex-direction: column;
            align-items: stretch;
            gap: 12px;
            z-index: 100;
            animation: slideDown 0.3s ease-out;
        }
        
        .mobile-nav.mobile-open .mobile-menu-dropdown {
            display: flex;
        }
        
        .mobile-menu-dropdown .btn {
            width: 100%;
            justify-content: center;
        }
        
        @keyframes slideDown {
            from {
            opacity: 0;
            transform: translateY(-10px);
            }
            to {
            opacity: 1;
            transform: translateY(0);
            }
        }
        }

        @media (max-width: 480px) {
        .mobile-menu-dropdown {
            width: 180px;
            padding: 12px;
            gap: 8px;
            top: calc(100% + 6px);
        }
        }

        @media (max-width: 375px) {
        .mobile-menu-dropdown {
            width: 160px;
            padding: 10px;
            gap: 6px;
            top: calc(100% + 4px);
        }
        }
        
        @media (min-width:769px){
        .show-mobile{display:none}
        }
    
        /* Footer */
        footer{padding:32px 0; color:white; font-size: small;}
        @media (max-width:768px){footer{padding:24px 0}}
        @media (max-width:480px){footer{padding:20px 0}}
        
        .footer-content{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px}
        @media (max-width:768px){.footer-content{gap:8px}}
        @media (max-width:480px){.footer-content{flex-direction:column;align-items:center;text-align:center;gap:16px}}
        @media (max-width:375px){.footer-content{gap:12px}}
        
        .footer-links{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
        @media (max-width:768px){.footer-links{gap:8px}}
        @media (max-width:480px){.footer-links{width:100%;justify-content:center;gap:12px}}
        @media (max-width:375px){.footer-links{gap:8px}}
        
        /* Sections */
        section{padding:48px 0;border-top:1px solid var(--border)}
        @media (max-width:768px){section{padding:32px 0}}
        @media (max-width:480px){section{padding:24px 0}}

        @font-face {
            font-family: 'Lalezar Font';
            src: url('fonts/Lalezar-Regular.ttf') format('ttf');
            font-weight: normal;
            font-style: normal;
        }
        body{
            /* background-color: #F0E7DA; */
            height: 100%; 
            margin: 0; /* Removes default body margin  */
            /* background-image: linear-gradient(to bottom, rgb(17, 18, 13) 70%,  #565449);
            /* background-image: url(images/2025-09-29T165204.932.jpeg), url(images/22d78027ab249cbfff08f060638774c6.png);  */
            background-image: url(images/Background\ Overlay\ 10px.webp);
            background-position: center;
            background-repeat: no-repeat;
            background-size:cover;
        }
        header{
            /* background-color: rgb(22 24 51); */
            width: 100%;
            justify-content: center;
            align-items: center;
            margin-top: 4rem;
            margin-bottom: 2rem;
        }
        footer{
            /* background-color: rgb(22 24 51); */
            width: 100%;
            margin-top: 5rem;
        }
        
        @media (max-width: 768px) {
            header {
                margin-top: 2rem;
                margin-bottom: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            header {
                margin-top: 1.5rem;
                margin-bottom: 0.5rem;
            }
        }
        * {
            font-family:  'Lalezar Font', Arial, Helvetica;
            text-transform: uppercase;
            text-align: center;
        }
        h1 {
            color:  rgb(34,49,29);
        }
        h2 {
            color:  rgb(22 24 51);
        }
        p {
            color:rgb(22 24 51);
        }
        a, button{
            text-decoration: none;
            color: #F0E7DA;
            background-color: transparent;
        }

        input, select{
            background-color: white;
            padding: 10px 12px;
            margin: 8px 0;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            border: 2px solid rgb(34,49,29);
            border-radius: 7px;
            font-size: 14px;
        }

        input[type="text"],
        input[type="email"],
        input[type="number"],
        input[type="url"]{
            background-color: white;
            padding: 10px 12px;
            margin: 8px 0;
            border: 2px solid rgb(34,49,29);
            width: 100%;
            box-sizing: border-box;
        }
        
        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="number"]:focus,
        input[type="url"]:focus,
        select:focus{
            background-color: white;
            border-color: rgb(151, 0, 0);
            outline: none;
        }

        input[type="submit"]{
            margin-top: 1.5rem;
            border: 2px solid rgb(34,49,29);
            padding: 12px 24px;
            background-color: rgb(34,49,29);
            color: white;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            max-width: 300px;
            transition: all 0.3s ease;
        }
        
        input[type="submit"]:hover{
            background-color: rgb(151, 0, 0);
            border-color: rgb(151, 0, 0);
        }

        input:focus{
            border-color: rgb(151, 0, 0);
            outline: none;
        }
        
        @media (max-width: 480px) {
            input, select {
                padding: 8px 10px;
                font-size: 13px;
                margin: 6px 0;
            }
            
            input[type="submit"] {
                padding: 10px 20px;
                font-size: 14px;
            }
        }

        #backgroundVideo{
            position: fixed;
            right: 0;
            bottom: 0;
            min-width: 100%;
            max-height: 70%;
            opacity: 5%;
            z-index: 1;
            background-blend-mode: luminosity;
        }

        /* Main/Middle Container */
        main{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            text-align: center;
            padding: 2rem;
            width: 100%;
            max-width: 600px;
            position: relative;
            z-index: 4;
            margin: 2rem auto;
            min-height: 400px;
        }

        /* Hidden state */
        main.fade-out {
            opacity: 0;
        }

        #content{
            border: 2px solid rgb(34,49,29);
            border-radius: 12px;
            background-color: white;
            position: relative;
            z-index: 4;
            width: 90%;
            max-width: 600px;
            margin: 2rem auto;
            padding: 2rem;
            opacity: 1;
            transition: opacity 0.3s ease;
            min-height: 500px;
            max-height: 80vh;
            overflow-y: auto;
            overflow-x: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        #content img {
            max-width: 100%;
            height: auto;
        }
        
        #content::-webkit-scrollbar {
            width: 8px;
        }
        
        #content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        #content::-webkit-scrollbar-thumb {
            background: rgb(34,49,29);
            border-radius: 10px;
        }
        
        #content::-webkit-scrollbar-thumb:hover {
            background: rgb(151, 0, 0);
        }

        /* Media Queries for Smaller Screens */
        @media (max-width: 768px) {
            main {
                width: 95%;
                padding: 1.5rem;
                margin: 1.5rem auto;
                max-width: 500px;
            }

            #content {
                width: 92%;
                padding: 1.5rem;
                margin: 1.5rem auto;
                min-height: 450px;
                max-height: 75vh;
                border-radius: 10px;
            }
        }

        @media (max-width: 480px) {
            main {
                width: 95%;
                padding: 1rem;
                margin: 1rem auto;
            }

            #content {
                width: 95%;
                padding: 1.2rem;
                margin: 1rem auto;
                min-height: 400px;
                max-height: 70vh;
                border-radius: 8px;
                border-width: 1px;
            }
            
            #content h1 {
                font-size: 1.5rem;
                margin-bottom: 0.8rem;
            }
            
            #content h2 {
                font-size: 1.2rem;
                margin-bottom: 0.6rem;
            }
            
            #content p {
                font-size: 0.9rem;
                line-height: 1.5;
            }
            
            #content::-webkit-scrollbar {
                width: 6px;
            }
        }

        @media (max-width: 375px) {
            main {
                width: 98%;
                padding: 0.8rem;
                margin: 0.8rem auto;
            }

            #content {
                width: 98%;
                padding: 1rem;
                margin: 0.8rem auto;
                min-height: 350px;
                max-height: 65vh;
            }
            
            #content h1 {
                font-size: 1.3rem;
                margin-bottom: 0.6rem;
            }
            
            #content h2 {
                font-size: 1.1rem;
                margin-bottom: 0.5rem;
            }
            
            #content p {
                font-size: 0.85rem;
                line-height: 1.4;
            }
            
            #content::-webkit-scrollbar {
                width: 4px;
            }
        }

        .main-picture-grid{
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 2rem;
            width: 100%;
            max-width: 1200px;
            position: relative;
            height: auto;
            margin: 3rem auto;
            padding: 0 1rem;
            z-index: 1;
        }
        
        @media (max-width: 768px) {
            .main-picture-grid {
                gap: 1.2rem;
                margin: 2rem auto;
                padding: 0 0.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .main-picture-grid {
                gap: 0.8rem;
                margin: 1.5rem auto;
                padding: 0 0.3rem;
            }
        }
        
        @media (max-width: 375px) {
            .main-picture-grid {
                gap: 0.6rem;
                margin: 1rem auto;
                padding: 0 0.2rem;
            }
        }

        .picture-grid-card{
            background-color: #F0E7DA;
            border: 1px solid rgb(34,49,29);
            padding: 0.6rem;
            text-align: center;
            font-size: 1.2em;
            position: relative;
            z-index: -1;
            width: 100%; /* full width inside grid cell */
            aspect-ratio: 4 / 4; /* ensures consistent card shape */
            overflow: hidden; /* crop overflow */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .picture-grid-card img{
            position: relative;
            z-index: -1;
            filter: grayscale(80%);
            width: 100%;
            height: 100%;
            object-fit: cover; /* fill box and crop overflow */
            display: block;
            object-position: center; /* center focal point */
            display: block;
            transform: scale(1.05); /* slight default zoom to eliminate edges */
        }

        /* Individual slides */
        .mySlides {
            position: absolute; /* stacked on top of each other */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none; /* hidden initially */
        }

        footer p{
            margin-bottom: 0rem;
        }

        .footer-disclaimer{
            font-size: x-small;
            color: #F0E7DA;
            margin: 1rem 2rem 3rem 2rem;
            padding: 0 1rem;
            text-align: center;
        }

        .app-store-btns{
            flex: 1;
            flex-direction: row;
            gap: 2rem;
        }

        .app-store-btns a img{
            width: 20%;
            height: auto;
        }
        @media (max-width:375px){.app-store-btns a img{
            width: 50%;
            height: auto;
        }}

        /* Form */
        form {
            margin-top: 2rem;
            width: 100%;
        }
        
        form label{
            font-size: 12px;
            display: block;
            text-align: left;
            margin-top: 12px;
            margin-bottom: 4px;
            font-weight: 600;
            color: rgb(34,49,29);
        }

        form input,
        form select{
            border-radius: 7px;
        }
        
        form h2 {
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }
        
        form hr {
            margin: 2rem 0;
            border: none;
            border-top: 1px solid rgb(34,49,29);
            opacity: 0.3;
        }
        
        @media (max-width: 480px) {
            form {
                margin-top: 1.5rem;
            }
            
            form label {
                font-size: 11px;
            }
            
            form h2 {
                font-size: 1.1rem;
                margin-top: 1.2rem;
            }
            
            form hr {
                margin: 1.5rem 0;
            }
        }

        /* @media (max-width:768px){form{margin-top: 2rem;}}
        @media (max-width:480px){form{margin-top: 1rem;}}
        @media (max-width:375px){form{margin-top: 0.5rem;}}

        @media (max-width:768px){form label{margin-top: 2rem;}}
        @media (max-width:480px){form label{margin-top: 1rem;}}
        @media (max-width:375px){form label{margin-top: 0.5rem;}}

        @media (max-width:768px){form input{margin-top: 2rem;}}
        @media (max-width:480px){form input{margin-top: 1rem;}}
        @media (max-width:375px){form input{margin-top: 0.5rem;}} */

       </style>

       <script>

        // Handle form submission
        async function handleFormSubmit(event) {
            event.preventDefault();
            
            const form = event.target;
            const emailInput = form.querySelector('input[type="email"]');
            const honeypotInput = form.querySelector('input[name="website"]');
            const successMessage = form.parentNode.querySelector('.success-message');
            
            // Check honeypot field (if filled, likely a bot)
            if (honeypotInput && honeypotInput.value) {
                console.log('Bot detected via honeypot');
                return;
            }
            
            const email = emailInput.value;
            
            // Input sanitization
            const sanitizedEmail = email.trim().toLowerCase();
            
            // Basic email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(sanitizedEmail)) {
                alert('Please enter a valid email address');
                return;
            }

            // Rate limiting (basic client-side)
            const lastSubmission = localStorage.getItem('lastEmailSubmission');
            const now = Date.now();
            if (lastSubmission && (now - parseInt(lastSubmission)) < 60000) { // 1 minute cooldown
                alert('Please wait a moment before submitting again');
                return;
            }
            
            if (sanitizedEmail) {
                // Track the signup
                trackSignup();
                
                // Store submission time for rate limiting
                localStorage.setItem('lastEmailSubmission', now.toString());
                
                // Submit to secure backend
                const result = await submitEmailSecurely(sanitizedEmail, honeypotInput?.value || '');
                
                if (result.success) {
                // Show success message
                successMessage.style.display = 'block';
                form.style.display = 'none';
                } else {
                // Show error message
                alert(result.error || 'Failed to submit email. Please try again.');
                }
            }
            }

            // Secure email submission function
            async function submitEmailSecurely(email, website = '') {
            try {
                // Determine API URL based on environment
                const apiUrl = config.isGitHubPages ? config.apiBaseUrl : config.fallbackApiUrl;
                
                // First, get CSRF token from server
                const tokenResponse = await fetch(`${apiUrl}/api/csrf-token`, {
                method: 'GET',
                credentials: 'include'
                });
                
                if (!tokenResponse.ok) {
                throw new Error('Failed to get CSRF token');
                }
                
                const { csrfToken } = await tokenResponse.json();
                
                // Submit email with CSRF protection
                const response = await fetch(`${apiUrl}/api/beta-signup`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRF-Token': csrfToken,
                    'X-Requested-With': 'XMLHttpRequest'
                },
                credentials: 'include',
                body: JSON.stringify({ 
                    email: email,
                    website: website // Honeypot field
                })
                });
                
                const result = await response.json();
                
                if (response.ok && result.success) {
                console.log('Email submitted successfully');
                return { success: true, message: result.message };
                } else {
                throw new Error(result.error || 'Submission failed');
                }
            } catch (error) {
                console.error('Error submitting email:', error);
            }}
            // Handle email input with real-time validation
            function handleEmailInput(input) {
            const email = input.value;
            formData.email = email;
            
            const validationMessage = input.parentNode.querySelector('.email-validation-message');
            
            if (!email) {
                validationMessage.style.display = 'none';
                input.style.borderColor = 'var(--border)';
                return;
            }
            
            if (validateEmail(email)) {
                validationMessage.textContent = '✅ Valid email address';
                validationMessage.style.color = 'var(--success)';
                validationMessage.style.display = 'block';
                input.style.borderColor = 'var(--success)';
            } else {
                validationMessage.textContent = '❌ Please enter a valid email address';
                validationMessage.style.color = '#dc2626';
                validationMessage.style.display = 'block';
                input.style.borderColor = '#dc2626';
            }
            }

            // Email validation function
            function validateEmail(email) {
            const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
            return emailRegex.test(email);
            }

            // Responsive navigation for mobile
            function toggleMobileNav() {
            const mobileNav = document.querySelector('.mobile-nav');
            const menuBtn = document.querySelector('.mobile-nav .btn');
            
            mobileNav.classList.toggle('mobile-open');
            
            // Update button text
            if (mobileNav.classList.contains('mobile-open')) {
                menuBtn.textContent = 'Close';
            } else {
                menuBtn.textContent = 'Menu';
            }
            }
            
            // Close mobile nav when clicking outside
            document.addEventListener('click', function(event) {
            const mobileNav = document.querySelector('.mobile-nav');
            const menuBtn = document.querySelector('.mobile-nav .btn');
            
            if (mobileNav.classList.contains('mobile-open') && 
                !mobileNav.contains(event.target) && 
                !menuBtn.contains(event.target)) {
                mobileNav.classList.remove('mobile-open');
                menuBtn.textContent = 'Menu';
            }
            });

            // Close mobile nav when clicking on a nav link
            document.addEventListener('click', function(event) {
            if (event.target.closest('nav a')) {
                const mobileNav = document.querySelector('.mobile-nav');
                const menuBtn = document.querySelector('.mobile-nav .btn');
                
                mobileNav.classList.remove('mobile-open');
                menuBtn.textContent = 'Menu';
            }
            });
            
            // Dynamic Section Container
            const sections = {
            about: `
                    <nav>
                    <div class="desktop-nav">
                        <!-- <a href="#about" class="btn">About</a>
                        <a href="#access" class="btn">Access</a>
                        <a href="#faqs" class="btn">FAQs</a> -->
                        <button onclick="showSection('about')">About</button>
                        <button onclick="showSection('access')">Access</button>
                        <button onclick="showSection('faq')">FAQs</button>
                    </div>
                    <div class="mobile-nav">
                        <button class="btn" onclick="toggleMobileNav()">Menu</button>
                        <!-- Mobile dropdown menu -->
                        <div class="mobile-menu-dropdown">
                            <button onclick="showSection('about')">About</button>
                            <button onclick="showSection('access')">Access</button>
                            <button onclick="showSection('faq')">FAQs</button>
                        </div>
                    </div>
                    </nav>
                    <br>
                    <h1>About</h1>
                    <p style="font-style: italic; align-items="center">Welcome to the ultimate private network for the Divine 9—a home where culture, legacy, and influence intersect. Part digital yard, part archive, part social network, Lettered is a space members can gather, connect, and create together. Represent your chapter, organize events, share memories, and flex your culture in this trusted community built just for you. Here, every story, every post, and every interaction amplifies your voice while strengthening the bonds that unite us all.</p>
                    <br>
                    <div style="margin-top: 12%;">
                    <h3><strong>Lettered</strong></h3>
                    </div>
            `,
            access: `
                <nav>
                    <div class="desktop-nav">
                        <!-- <a href="#about" class="btn">About</a>
                        <a href="#access" class="btn">Access</a>
                        <a href="#faqs" class="btn">FAQs</a> -->
                        <button onclick="showSection('about')">About</button>
                        <button onclick="showSection('access')">Access</button>
                        <button onclick="showSection('faq')">FAQs</button>
                    </div>
                    <div class="mobile-nav">
                        <button class="btn" onclick="toggleMobileNav()">Menu</button>
                        <!-- Mobile dropdown menu -->
                        <div class="mobile-menu-dropdown">
                            <button onclick="showSection('about')">About</button>
                            <button onclick="showSection('access')">Access</button>
                            <button onclick="showSection('faq')">FAQs</button>
                        </div>
                    </div>
                </nav>
                    <br>
                    <h1>Gain Access</h1>
                        <p style="font-style: italic; font-size:small;">Members of the D9, you must get verified to gain access to the lettered app. Verification is to keep the app exclusively for d9 members. No Perps.</p>
                        <!-- Verification Form -->
                        <div class="form">
                            <form>
                                <h2>Personal Info</h2>
                                <label for="fname">First Name:</label>
                                <input type="text" id="fname" name="fname" required autofocus>
                                
                                <label for="lname">Last Name:</label>
                                <input type="text" id="lname" name="lname" required>
                                <br>
                                <label for="email">Email:</label>
                                <input type="email" id="email" name="email" onchange="handleTextInput('email', this.value)"
                                oninput="handleEmailInput(this)" placeholder="your@email.com" required>
                                
                                <br>
                                <hr>
                                <h2>Greek Info</h2>
                                <label for="orgs">Organization:</label>
                                <select id="orgs" name="orgs" required>
                                    <option value="alpha">Alpha Phi Alpha Fraternity, Inc.</option>
                                    <option value="aka">Alpha Kappa Alpha Sorority, Inc.</option>
                                    <option value="kappa">Kappa Alpha Psi Fraternity, Inc.</option>
                                    <option value="que">Omega Psi Phi Fraternity, Inc.</option>
                                    <option value="delta">Delta Sigma Theta Sorority, Inc.</option>
                                    <option value="sigma">Phi Beta Sigma Fraternity, Inc.</option>
                                    <option value="sgrho">Sigma Gamma Rho Sorority, Inc.</option>
                                    <option value="zeta">Zeta Phi Beta Sorority, Inc.</option>
                                    <option value="iota">Iota Phi Theta Fraternity, Inc.</option>
                                </select>
                            
                                <br>

                                <label for="orgs">Chapter Name:</label>
                                <input type="text" id="chapName" name="chapName" required>
                                <br>
                                <label for="orgs">City Chapter Located:</label>
                                <input type="text" id="city" name="city" required autocomplete="address-level2">
                                
                                <label for="orgs">University Chapter Located:</label>
                                <input type="text" id="university" name="university" required autocomplete="on">

                                <br>
                                <label for="lineName">Line Name:</label>
                                <input type="text" id="lineName" name="lineName" required>
                                
                                <label for="lineNumber">Line Number:</label>
                                <input type="number" id="lineNumber" name="lineNumber" min="1" max="500" pattern="[0-9]{1,3}" maxlength="3" required>

                                <br><hr>
                                <h2>Social Info</h2>
                                <label for="smedia1">Social Media:</label>
                                <input type="url" id="smedia1" name="smedia1" placeholder="Instagram" size="10">
                                <input type="url" id="smedia2" name="smedia2" placeholder="TikTok" size="10">
                                <input type="url" id="smedia3" name="smedia3" placeholder="Facebook" size="10">  
                                <input type="url" id="usmedia4" name="smedia4" placeholder="Twitter" size="10">

                                <br><h1 style="margin-top: 12px; margin-bottom: 7px; font-size: small;">Optional</h1>
                                
                                <label for="pariImage">Picture in Pari:</label>
                                <input type="file" id="pariImage" name="pariImage" width="75" height="75">
                                <br>
                                <input type="submit" value="Submit">
                            </form>
                            <p style="font-style: italic; font-size: 11px; margin-top: 20px;">Submitting social links and/or a picture wearing pari speeds up verification.</p>
                            <br>
                        <div style="margin-top: 12%;">
                            <h3><strong>Lettered</strong></h3>
                        </div>
            `,
            faq: `
                <nav>
                    <div class="desktop-nav">
                        <!-- <a href="#about" class="btn">About</a>
                        <a href="#access" class="btn">Access</a>
                        <a href="#faqs" class="btn">FAQs</a> -->
                        <button onclick="showSection('about')">About</button>
                        <button onclick="showSection('access')">Access</button>
                        <button onclick="showSection('faq')">FAQs</button>
                    </div>
                    <div class="mobile-nav">
                        <button class="btn" onclick="toggleMobileNav()">Menu</button>
                        <!-- Mobile dropdown menu -->
                        <div class="mobile-menu-dropdown">
                            <button onclick="showSection('about')">About</button>
                            <button onclick="showSection('access')">Access</button>
                            <button onclick="showSection('faq')">FAQs</button>
                        </div>
                    </div>
                </nav>
                    <br>
                <h1>FAQs</h1>
                    <div>
                        <h2>How long is verification?</h2>
                        <p style="font-size:small; font-style: italic;">Verification can take up to 2-3 days.</p>
                        <h2>Is this affiliated with Watch The Yard?</h2>
                        <p style="font-size:small; font-style: italic;">Lettered is not affiliated with Watch The Yard or any of the Official D9 organizations</p>
                        <h2>Does it cost?</h2>
                        <p style="font-size:small; font-style: italic;">No</p>
                        <h2>What happens after verification?</h2>
                        <p style="font-size:small; font-style: italic;">Verified member will recieve an email with steps to access the app</p>
                    </div>
                    <br>
                    <div style="margin-top: 12%;">
                    <h3><strong>Lettered</strong></h3>
                    </div>
            `
            };

            function showSection(section) {
            const content = document.getElementById('content');
            // Add fade-out class
            content.classList.add('fade-out');

            // After fade-out completes, swap content
            setTimeout(() => {
                content.innerHTML = sections[section];
                // Remove fade-out (which triggers fade-in automatically)
                content.classList.remove('fade-out');
            }, 300); // match CSS transition duration
            }


            document.addEventListener("DOMContentLoaded", function () {
                fetch("images.json")
                    .then(response => response.json())
                    .then(data => {
                        Object.keys(data).forEach(boxId => {
                            const container = document.getElementById(boxId);
                            container.innerHTML = "";

                            const images = [];
                            let loadedCount = 0;

                            // Create slides and preload images
                            data[boxId].forEach(src => {
                                const slideDiv = document.createElement("div");
                                slideDiv.classList.add("mySlides");

                                const img = document.createElement("img");
                                img.src = src;

                                slideDiv.appendChild(img);
                                container.appendChild(slideDiv);

                                images.push(img);

                                img.onload = () => {
                                    loadedCount++;
                                    // Once all images are loaded, apply consistent scaling
                                    if (loadedCount === images.length) {
                                        scaleSlidesToCard(container, images);
                                    }
                                };
                            });
                        });

                        initSlideshows();
                    });

                // Function to scale all slides uniformly
                function scaleSlidesToCard(card, images) {
                    const cardRatio = card.offsetWidth / card.offsetHeight;

                    images.forEach(img => {
                        const imgRatio = img.naturalWidth / img.naturalHeight;

                        if (imgRatio > cardRatio) {
                            // Image is wider than card
                            img.style.width = "auto";
                            img.style.height = "100%";
                        } else {
                            // Image is taller than card
                            img.style.width = "100%";
                            img.style.height = "auto";
                        }

                        // Optional: slight zoom buffer to cover edges
                        img.style.transform = "scale(1.05)";
                    });
                }

                function initSlideshows() {
                    const slideshows = document.querySelectorAll('.picture-grid-card');

                    slideshows.forEach(slideshow => {
                        let slideIndex = 0;
                        const slides = slideshow.querySelectorAll('.mySlides');

                        function showSlides() {
                            slides.forEach(slide => (slide.style.display = "none"));

                            slideIndex++;
                            if (slideIndex > slides.length) slideIndex = 1;

                            slides[slideIndex - 1].style.display = "block";

                            setTimeout(showSlides, 2000);
                        }

                        showSlides();
                    });
                }
            });

            // Deep Link Detection and Handling
    (function() {
        // Check if this is a deep link URL
        const path = window.location.pathname;
        const pathParts = path.split('/').filter(Boolean);
        
        // Define deep link patterns
        const deepLinkPatterns = {
            profile: /^profile\/(.+)$/,
            post: /^post\/(.+)$/,
            stream: /^stream\/(.+)$/
        };
        
        // Check if URL matches any deep link pattern
        let isDeepLink = false;
        let deepLinkType = null;
        let deepLinkId = null;
        
        if (pathParts.length >= 2) {
            const potentialType = pathParts[0];
            const potentialId = pathParts[1];
            
            if (['profile', 'post', 'stream'].includes(potentialType)) {
                isDeepLink = true;
                deepLinkType = potentialType;
                deepLinkId = potentialId;
            }
        }
        
        // If this is a deep link, try to open the app
        if (isDeepLink) {
            console.log('Deep link detected:', deepLinkType, deepLinkId);
            
            // Try to open app with custom scheme
            const customSchemeUrl = `lettered://${deepLinkType}/${deepLinkId}`;
            window.location = customSchemeUrl;
            
            // Show a modal after attempting to open app
            setTimeout(function() {
                showDeepLinkModal(deepLinkType, deepLinkId);
            }, 1000);
        }
        
        // Function to show deep link modal
        function showDeepLinkModal(type, id) {
            // Create modal HTML
            const modalHTML = `
                <div id="deep-link-modal" style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0,0,0,0.8);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 10000;
                    padding: 20px;
                ">
                    <div style="
                        background: white;
                        border-radius: 20px;
                        padding: 40px;
                        max-width: 500px;
                        text-align: center;
                        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                    ">
                        <div style="
                            width: 80px;
                            height: 80px;
                            margin: 0 auto 20px;
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            border-radius: 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: white;
                            font-size: 36px;
                            font-weight: bold;
                        ">L</div>
                        <h2 style="margin-bottom: 10px; color: #333;">Open in Lettered App?</h2>
                        <p style="color: #666; margin-bottom: 30px;">
                            View this ${type} in the Lettered app for the best experience.
                        </p>
                        <div style="display: flex; flex-direction: column; gap: 15px;">
                            <button onclick="window.location='${customSchemeUrl}'" style="
                                padding: 15px 30px;
                                border-radius: 10px;
                                border: none;
                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                color: white;
                                font-weight: 600;
                                cursor: pointer;
                                font-size: 16px;
                            ">Open in App</button>
                            <button onclick="document.getElementById('deep-link-modal').remove()" style="
                                padding: 15px 30px;
                                border-radius: 10px;
                                border: none;
                                background: #f5f5f5;
                                color: #333;
                                font-weight: 600;
                                cursor: pointer;
                                font-size: 16px;
                            ">Continue on Web</button>
                        </div>
                        <div style="margin-top: 20px;">
                            <p style="color: #999; font-size: 14px; margin-bottom: 10px;">Don't have the app?</p>
                            <div style="display: flex; gap: 10px; justify-content: center;">
                                <a href="https://apps.apple.com/app/lettered/id123456789" style="text-decoration: none;">
                                    <button style="
                                        padding: 10px 20px;
                                        border-radius: 8px;
                                        border: 1px solid #ddd;
                                        background: white;
                                        cursor: pointer;
                                        font-size: 14px;
                                    ">iOS App</button>
                                </a>
                                <a href="https://play.google.com/store/apps/details?id=com.lettered.app" style="text-decoration: none;">
                                    <button style="
                                        padding: 10px 20px;
                                        border-radius: 8px;
                                        border: 1px solid #ddd;
                                        background: white;
                                        cursor: pointer;
                                        font-size: 14px;
                                    ">Android App</button>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Add modal to page
            document.body.insertAdjacentHTML('beforeend', modalHTML);
        }
    })();
    
       </script>
    </head>

    <body>
        <div class="container">
            <header>
                <img src="images/ltrdlogo1.png" alt="Lettered Logo" class="logo-img" style="max-width: 35%;">
            </header>

            <main id="content">
                <nav>
                    <div class="desktop-nav">
                        <!-- <a href="#about" class="btn">About</a>
                        <a href="#access" class="btn">Access</a>
                        <a href="#faqs" class="btn">FAQs</a> -->
                        <button onclick="showSection('about')">About</button>
                        <button onclick="showSection('access')">Access</button>
                        <button onclick="showSection('faq')">FAQs</button>
                    </div>
                    <div class="mobile-nav">
                        <button class="btn" onclick="toggleMobileNav()">Menu</button>
                        <!-- Mobile dropdown menu -->
                        <div class="mobile-menu-dropdown">
                            <button onclick="showSection('about')">About</button>
                            <button onclick="showSection('access')">Access</button>
                            <button onclick="showSection('faq')">FAQs</button>
                        </div>
                    </div>
                    </nav>
                <div style="justify-content:center; align-items: center;">
                    <img src="images/welcomelogo.png" style="max-width: 65%;">
                    <!-- <h1>Welcome to Lettered</h1>
                    <p>Trusted space for the divine nine</p> -->
                    <button onclick="showSection('about')">Welcome</button>
                </div>
            </main>

            <div class="main-picture-grid">
                <div class="picture-grid-card" id="box1"></div>
                <div class="picture-grid-card" id="box2"></div>
                <div class="picture-grid-card" id="box3"></div>
                <div class="picture-grid-card" id="box4"></div>
            </div>

            <footer>
                <p style="color: #F0E7DA; font-size:large;"><strong>Trusted space for the divine nine</strong></p>
                <div class="app-store-btns">
                    <a href=""><img src="images/Google_Play-Badge-Logo.wine.png"></a>
                    <a href=""><img src="images/App_Store_(iOS)-Badge-Logo.wine.png"></a>
                </div>
                <div class="footer-disclaimer">
                    <p style="color: #F0E7DA;">This platform is an independent community created to connect, celebrate, and preserve the culture of the Divine 9. It is not affiliated with, endorsed by, or an official communication channel of any fraternity, sorority, or national governing body. All trademarks, names, and logos remain the property of their respective organizations. Content shared by members reflects their personal views and does not represent the platform or any affiliated entity. By participating, users agree to respect the culture, legacy, and community guidelines established to maintain a safe and trusted environment.</p>
                </div>
                <div class="footer-content">
                    <div class="footerSmall">letteredapp@gmail.com</div>
                    <div class="footer-links">
                        <a href="/privacy.html" class="small">Privacy</a>
                        <a href="/terms.html" class="small">Terms</a>
                    </div>

                    <div class="footerSmall">&copy; 2025 Lettered. All Rights Reserved.</div>
                </div>
              </footer>

        </div>
    </body>
</html>
